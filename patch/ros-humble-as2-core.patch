--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -19,10 +19,8 @@
 # add -Wall -Wextra -pedantic
 set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra -pedantic")
 
 # https://stackoverflow.com/a/73279950/9553849
-set(CMAKE_MODULE_PATH "${CMAKE_MODULE_PATH};/usr/share/cmake/geographiclib")
-
 # set a define with the system env variable ROS_DISTRO
 set(ROS_DISTRO $ENV{ROS_DISTRO})
 message(STATUS "Detected ROS_DISTRO: ${ROS_DISTRO}")
 if(ROS_DISTRO STREQUAL "galactic")
@@ -56,7 +54,7 @@
   find_package(${DEPENDENCY} REQUIRED)
 endforeach()
 
-find_package(GeographicLib REQUIRED)
+find_package(GeographicLib REQUIRED CONFIG)
 
 # Pybind11
 find_package(Python3 REQUIRED COMPONENTS Interpreter Development)
@@ -81,13 +79,14 @@
     src/utils/gps_utils.cpp)
 
 # Create the library
-add_library(${PROJECT_NAME} STATIC ${SOURCE_CPP_FILES})
+add_library(${PROJECT_NAME} SHARED ${SOURCE_CPP_FILES})
 target_link_libraries(${PROJECT_NAME} yaml-cpp)
-target_link_libraries(${PROJECT_NAME} ${GeographicLib_LIBRARIES})
+target_link_libraries(${PROJECT_NAME} GeographicLib::GeographicLib_SHARED)
 
 # Mocks library
 set(MOCKS_LIBRARY_NAME mocks)
 include(tests/mocks/CMakeLists.txt)
+target_link_libraries(mocks PUBLIC as2_core)
 
 target_include_directories(
   ${PROJECT_NAME} PUBLIC $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>
@@ -95,11 +94,12 @@
 
 ament_target_dependencies(${PROJECT_NAME} ${PROJECT_DEPENDENCIES})
 ament_export_targets(export_${PROJECT_NAME} HAS_LIBRARY_TARGET)
-ament_export_dependencies(${PROJECT_DEPENDENCIES})
+ament_export_dependencies(${PROJECT_DEPENDENCIES} GeographicLib)
 
 ament_export_include_directories(include)
 ament_export_libraries(${PROJECT_NAME})
-
-ament_package()
+ament_package(CONFIG_EXTRAS as2_core-extras.cmake)
--- a/tests/mocks/CMakeLists.txt
+++ b/tests/mocks/CMakeLists.txt
@@ -8,6 +8,7 @@
 
 add_library(${MOCKS_LIBRARY_NAME} SHARED ${MOCK_SOURCES})
 ament_target_dependencies(${MOCKS_LIBRARY_NAME} ${PROJECT_DEPENDENCIES})
+target_link_libraries(${MOCKS_LIBRARY_NAME} as2_core)
 
 install(
   DIRECTORY tests/mocks/
--- a/include/as2_core/as2_basic_behavior.hpp
+++ b/include/as2_core/as2_basic_behavior.hpp
@@ -40,11 +40,13 @@
 #ifndef AS2_CORE__AS2_BASIC_BEHAVIOR_HPP_
 #define AS2_CORE__AS2_BASIC_BEHAVIOR_HPP_
 
 #include <chrono>
 #include <cmath>
 #include <memory>
 #include <string>
+#include <thread>
+#include <functional>
 
 #include "as2_core/aerial_platform.hpp"
 #include "as2_core/node.hpp"
@@ -93,7 +95,7 @@
   rclcpp_action::GoalResponse handleGoal(
     const rclcpp_action::GoalUUID & uuid,
     std::shared_ptr<const typename MessageT::Goal> goal)
   {
-    RCLCPP_DEBUG(this->get_logger(), "Received goal request with UUID: %d", uuid);
+    RCLCPP_DEBUG(this->get_logger(), "Received goal request");
     return onAccepted(goal);
   }
--- /dev/null
+++ b/as2_core-extras.cmake
@@ -0,0 +1,1 @@
+find_package(GeographicLib REQUIRED CONFIG)
